{"ast":null,"code":"import _objectSpread from\"/Users/kirillsysoev/Documents/Privat/yandex_practicum/react-mesto-main-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/kirillsysoev/Documents/Privat/yandex_practicum/react-mesto-main-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kirillsysoev/Documents/Privat/yandex_practicum/react-mesto-main-auth/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_onRes\",value:function _onRes(response){return response.ok?response.json():Promise.reject(_objectSpread(_objectSpread({},response),{},{message:\"Ошибка на стороне сервиса\"}));}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(this._onRes);}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(this._onRes);}},{key:\"updateUserProfileInfo\",value:function updateUserProfileInfo(dataProfile){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:dataProfile.name,about:dataProfile.about})}).then(this._onRes);}},{key:\"addNewCard\",value:function addNewCard(dataCard){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:dataCard.name,link:dataCard.link})}).then(this._onRes);}},{key:\"deleteCardById\",value:function deleteCardById(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:\"DELETE\",headers:this._headers}).then(this._onRes);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){if(isLiked){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{headers:this._headers,method:'DELETE'}).then(this._onRes);}else{return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{headers:this._headers,method:'PUT'}).then(this._onRes);}}},{key:\"editAvatarUser\",value:function editAvatarUser(data){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(this._onRes);}}]);return Api;}();export var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-64',headers:{authorization:'22daa57c-a1b8-4d9c-9a76-1d146d442b74','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","_ref","baseUrl","headers","_classCallCheck","_baseUrl","_headers","_createClass","key","value","_onRes","response","ok","json","Promise","reject","_objectSpread","message","getInitialCards","fetch","concat","then","getUserInfo","updateUserProfileInfo","dataProfile","method","body","JSON","stringify","name","about","addNewCard","dataCard","link","deleteCardById","cardId","changeLikeCardStatus","isLiked","editAvatarUser","data","avatar","api","authorization"],"sources":["/Users/kirillsysoev/Documents/Privat/yandex_practicum/react-mesto-main-auth/react-mesto-auth/src/utils/api.js"],"sourcesContent":["class Api {\n\tconstructor({ baseUrl, headers }) {\n\t\tthis._baseUrl = baseUrl;\n\t\tthis._headers = headers;\n\t}\n\n\t_onRes(response) {\n\t\treturn response.ok ? response.json() : Promise.reject({ ...response, message: \"Ошибка на стороне сервиса\" });\n\t}\n\n\tgetInitialCards() {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\theaders: this._headers\n\t\t}).then(this._onRes)\n\t}\n\n\tgetUserInfo() {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\theaders: this._headers\n\t\t}).then(this._onRes)\n\t}\n\n\n\tupdateUserProfileInfo(dataProfile) {\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: this._headers,\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: dataProfile.name,\n\t\t\t\tabout: dataProfile.about\n\t\t\t})\n\t\t}).then(this._onRes)\n\t}\n\n\taddNewCard(dataCard) {\n\t\treturn fetch(`${this._baseUrl}/cards`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: this._headers,\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: dataCard.name,\n\t\t\t\tlink: dataCard.link\n\t\t\t})\n\t\t}).then(this._onRes)\n\t}\n\n\tdeleteCardById(cardId) {\n\t\treturn fetch(`${this._baseUrl}/cards/${cardId}`, {\n\t\t\tmethod: \"DELETE\",\n\t\t\theaders: this._headers,\n\t\t}).then(this._onRes)\n\t}\n\n\tchangeLikeCardStatus(cardId, isLiked) {\n\t\tif (isLiked) {\n\t\t\treturn fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n\t\t\t\theaders: this._headers,\n\t\t\t\tmethod: 'DELETE'\n\t\t\t})\n\t\t\t\t.then(this._onRes)\n\t\t} else {\n\t\t\treturn fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n\t\t\t\theaders: this._headers,\n\t\t\t\tmethod: 'PUT'\n\t\t\t})\n\t\t\t\t.then(this._onRes)\n\t\t}\n\t}\n\n\teditAvatarUser(data) {\n\t\treturn fetch(`${this._baseUrl}/users/me/avatar`, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: this._headers,\n\t\t\tbody: JSON.stringify({\n\t\t\t\tavatar: data.avatar\n\t\t\t})\n\t\t})\n\t\t\t.then(this._onRes);\n\t}\n}\n\nexport const api = new Api({\n\tbaseUrl: 'https://mesto.nomoreparties.co/v1/cohort-64',\n\theaders: {\n\t\tauthorization: '22daa57c-a1b8-4d9c-9a76-1d146d442b74',\n\t\t'Content-Type': 'application/json'\n\t}\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}